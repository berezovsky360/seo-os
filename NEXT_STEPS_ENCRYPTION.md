# ‚úÖ Task D: Encryption - –ó–ê–í–ï–†–®–ï–ù–û!

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

‚úÖ –°–æ–∑–¥–∞–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è AES-256-GCM (`lib/utils/encryption.ts`)
‚úÖ –°–æ–∑–¥–∞–Ω—ã –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ API routes:
  - `POST /api/sites/[siteId]/credentials` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ credentials (—à–∏—Ñ—Ä—É–µ—Ç –ø–∞—Ä–æ–ª—å)
  - `POST /api/sites/[siteId]/test-connection` - —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç)
  - `POST /api/sites/[siteId]/sync` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ (—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç)
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω frontend –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö API
‚úÖ –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–∞ (`scripts/generate-encryption-key.ts`)
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install
```

### 2. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å encryption key

```bash
npm run generate-key
```

### 3. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ .env.local

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á –∏–∑ –≤—ã–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ
ENCRYPTION_KEY=–≤–∞—à-—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-–∫–ª—é—á

# –ü–æ–ª—É—á–∏—Ç—å –∏–∑ Supabase Dashboard ‚Üí Settings ‚Üí API
SUPABASE_SERVICE_ROLE_KEY=–≤–∞—à-service-role-key
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä

```bash
npm run dev
```

### 5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:3000
2. –î–æ–±–∞–≤–∏—Ç—å —Å–∞–π—Ç –∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –ü–µ—Ä–µ–π—Ç–∏ –≤ Settings
4. –í–≤–µ—Å—Ç–∏ WordPress credentials
5. –ù–∞–∂–∞—Ç—å "Save & Connect"
6. –ù–∞–∂–∞—Ç—å "Test Connection"

‚úÖ –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ "Connected as [–∏–º—è]" - —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!

### 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

–û—Ç–∫—Ä–æ–π—Ç–µ Supabase ‚Üí Table Editor ‚Üí sites ‚Üí –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ `wp_app_password`:
- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `abc123:xyz789...` (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω)
- –ù–ï –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ plaintext

## üìã –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å –≤ Phase 4

- ‚ùå **Task E:** Categories & Tags –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–í–ê–ñ–ù–û:**
- ‚ùå –ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å `.env.local` –≤ git
- ‚ùå –ù–ò–ö–û–ì–î–ê –Ω–µ –¥–µ–ª–∏—Ç—å—Å—è `ENCRYPTION_KEY`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è dev –∏ production
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å `ENCRYPTION_KEY` –≤ Vercel/Netlify env variables –¥–ª—è production

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** [QUICK_START_ENCRYPTION.md](./QUICK_START_ENCRYPTION.md)
- **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [ENCRYPTION_SETUP.md](./ENCRYPTION_SETUP.md)
- **–ü—Ä–∏–º–µ—Ä .env:** [.env.example](./.env.example)

## üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Browser (HTTPS)
    ‚Üì
API Route (encrypts)
    ‚Üì
Supabase (encrypted)
    ‚Üì
API Route (decrypts)
    ‚Üì
WordPress API
```

–ü–∞—Ä–æ–ª—å **–Ω–∏–∫–æ–≥–¥–∞** –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä –≤ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ!

## –ì–æ—Ç–æ–≤–æ! üéâ

–¢–µ–ø–µ—Ä—å WordPress credentials —Ö—Ä–∞–Ω—è—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º AES-256-GCM.

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** Task E (Categories & Tags) –∏–ª–∏ Phase 5 (Google APIs)?
